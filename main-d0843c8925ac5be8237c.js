(()=>{"use strict";class t{constructor(t){this.players=t,this.turnOrder=0}currentPlayer(){this.players[this.turnOrder]}}class e{constructor(t,e){this.name=t,this.board=e}}class n{constructor(t,e){this.whiteSpace=t.whiteSpace(),this.hitMark=t.hitBoardMark(),this.missMark=t.missBoardMark(),this.board=t.createBoard(e),this.ships=new Map,this.shipCount=0,this.size=e}attackPlace(t){const e=t.getX(),n=t.getY(),i=this.board[e][n];this.ships.has(i)?(this.ships.get(i).hit(),this.board[e][n]=this.hitMark):this.board[e][n]=this.missMark}allShipAreSunk(){const t=this.ships.values();return Array.from(t).every((t=>t.isSunk()))}canPlaceShip(t,e,n){const i=e.getLength();return this.#t(t,i,n)&&this.#e(t,i,n)}placeShip(t,e,n){let i=e.getX(),s=e.getY();const r=t.getLength(),o=this.shipCount.toString();for(let t=0;t<r;t+=1)this.board[s][i]=o,n?i+=1:s+=1;this.ships.set(o,t),this.shipCount+=1}#t(t,e,n){return e+(n?t.getX():t.getY())<this.size}#e(t,e,n){let i=t.getX(),s=t.getY(),r=!0;for(let t=0;t<e;t+=1)r=r&&this.emptyLocation(s,i),n?i+=1:s+=1,t+=1;return r}emptyLocation(t,e){return this.board[t][e]===this.whiteSpace}}const i={},s=new class{whiteSpace(){return"-"}hitBoardMark(){return"x"}missBoardMark(){return"o"}createBoard(t){const e=[];for(let n=0;n<t;n+=1){const n=this.getBoardRow(t);e.push(n)}return e}getBoardRow(t){const e=this.whiteSpace(),n=[];for(let i=0;i<t;i+=1)n.push(e);return n}},r=new class{create(i,s){const r=i.forEach((t=>{const i=t.name,r=t.size,o=new n(s,r);return new e(i,o)}));return new t(r)}},o=r.create([{name:"Player1",size:10},{name:"Player2",size:10}],s),a=new class{constructor(t){this.game=t}init(){console.log("Game is starting")}}(o),c=document.querySelector(".game-section"),h=new class{constructor(t){this.gameSection=t,this.menuButton=document.querySelector(".menu-button"),this.newGameButton=function(){const t=document.createElement("button");return t.innerText="New Game",t.classList.add("new-game-button"),t}()}init(){this.menuButton.addEventListener("click",this.toggleMenuOnScreen.bind(this)),this.toggleMenuOnScreen()}toggleMenuOnScreen(){this.gameSection.contains(this.newGameButton)?(this.gameSection.removeChild(this.newGameButton),this.newGameButton.removeEventListener("click",this.emitDisplayConfigurationScreen.bind(this))):(this.gameSection.append(this.newGameButton),this.newGameButton.addEventListener("click",this.emitDisplayConfigurationScreen.bind(this)))}emitDisplayConfigurationScreen(){this.toggleMenuOnScreen(),i.displayConfigurationScreen.forEach((t=>t(null)))}}(c),u=new class{constructor(t){this.gameSection=t}init(){var t,e;t="displayConfigurationScreen",e=this.renderGameConfiguration.bind(this),void 0===i[t]&&(i[t]=[]),i[t].push(e)}renderGameConfiguration(){const t=function(){const t=document.createElement("div");return t.classList.add("configuration-screen"),t.innerText="Arrange your boats",t}();this.gameSection.append(t)}}(c);a.init(),h.init(),u.init()})();